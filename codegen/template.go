package codegen

// autoCodeTemplate 自动代码模板
const autoCodeTemplate = `// Code generated by ENERGY Designer. DO NOT EDIT.

package {{.PackageName}}

import (
	"github.com/energye/lcl/lcl"
	"github.com/energye/lcl/types"
)

type {{.FormName}} struct {
	*lcl.TForm
	{{range .Components}}{{.Name}} *lcl.{{.ClassName}}
	{{end}}
}

// New{{.FormName}} 创建新的{{.FormName}}实例
func New{{.FormName}}() *{{.FormName}} {
	form := &{{.FormName}}{}
	form.TForm = lcl.NewForm(nil)
	form.TForm.SetName("{{.FormName}}")
	
	// 设置窗体属性
	{{range .Properties}}
	form.TForm.Set{{.Name}}({{.Value}})
	{{end}}
	
	// 初始化组件
	form.initComponents()
	
	return form
}

// initComponents 初始化组件
func (f *{{.FormName}}) initComponents() {
	{{range .Components}}
	f.{{.Name}} = lcl.New{{.ClassName}}(f.TForm)
	f.{{.Name}}.SetName("{{.Name}}")
	{{end}}
}
`

// userCodeTemplate 用户代码模板
const userCodeTemplate = `// {{.FormName}} 用户代码文件
// 可以在此文件中添加事件处理和业务逻辑
package {{.PackageName}}

import (
	"github.com/energye/lcl/lcl"
)

// OnInitForm 窗体初始化事件
func (f *{{.FormName}}) OnInitForm(sender lcl.IObject) {
	// 在此处添加窗体初始化代码
}

{{range .Components}}
// On{{.Name}}Click {{.Name}}点击事件
func (f *{{.FormName}}) On{{.Name}}Click(sender lcl.IObject) {
	// 在此处添加{{.Name}}点击事件处理代码
}
{{end}}
`
