package codegen

// autoCodeTemplate 自动代码模板
const autoCodeTemplate = `// Code generated by ENERGY Designer. DO NOT EDIT.

package {{.PackageName}}

import (
	"github.com/energye/lcl/lcl"
	"github.com/energye/lcl/types"
)

type {{.FormName}} struct {
	lcl.TEngForm
	{{range .Components}}{{.Name}} lcl.{{.ClassName}}
	{{end}}
} 

// New{{.FormName}} 创建新的{{.FormName}}实例
func (m *{{.FormName}}) FormCreate(sender lcl.IObject) {
	// 设置窗体属性
	{{range .Properties}}
	m.Set{{.Name}}({{.Value}})
	{{end}}
	// 初始化组件
	m.initComponents()
	m.OnFormCreate(sender)
}

// initComponents 初始化组件
func (m *{{.FormName}}) initComponents() {
	{{range .Components}}
	m.{{.Name}} = lcl.New{{.ClassName}}(m)
	{{end}}
}
`

// userCodeTemplate 用户代码模板
const userCodeTemplate = `// {{.FormName}} 用户代码文件
// 可以在此文件中添加事件处理和业务逻辑

package {{.PackageName}}

import (
	"github.com/energye/lcl/lcl"
)

// OnFormCreate 窗体初始化事件
func (m *{{.FormName}}) OnFormCreate(sender lcl.IObject) {
	// 在此处添加窗体初始化代码
}

{{range .Components}}
// On{{.Name}}Click {{.Name}}点击事件
func (f *{{.FormName}}) On{{.Name}}Click(sender lcl.IObject) {
	// 在此处添加{{.Name}}点击事件处理代码
}
{{end}}
`

// main 文件代码模板
// main.go 不存在项目目录时创建
const mainCodeTemplate = `package main

import (
	"github.com/energye/lcl/lcl"
)

func main() {
	lcl.Init(nil, nil)
	lcl.Application.Initialize()
	lcl.Application.SetMainFormOnTaskBar(true)
	lcl.Application.SetScaled(true)
	lcl.Application.NewForms(&MainForm, &Form1)
	lcl.Application.Run()
}
`
